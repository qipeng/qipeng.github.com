<!DOCTYPE html>
<html lang="en" class="yui3-js-enabled" itemscope itemtype="http://schema.org/Thing">
<head>
   <meta charset="utf-8">

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="">
  <meta http-equiv="Content-Type" content="text/html; charset=utf8" />
  <meta name="robots" content="all" />
  <meta name="googlebot" content="all" />

  <title>Tutorial 1&#58; The Fancy Corner</title>
  <meta name="description" content="The first tutorial of the template.
">
  <meta name="keywords" content="">
  <meta name="author" content="Peng Qi">

  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.4.2/pure.css">
  <link rel="stylesheet" href="/media/css/syntax.css" type="text/css">
  <link rel="stylesheet" href="/media/js/fancybox/jquery.fancybox.css" type="text/css">
  <link rel="stylesheet" href="/media/css/main-grid.css" type="text/css">
  <link rel="stylesheet" href="/media/css/layouts/blog.css" type="text/css">
  <link rel="stylesheet" href="/media/css/site.css" type="text/css">
  <script type="text/javascript" src="/media/js/main.js"></script>
   
  <link rel="stylesheet" href="/media/css/syntaxhighlighter/shCoreEclipse.css" type="text/css">
<link rel="stylesheet" href="/media/css/syntaxhighlighter/shThemeEclipse.css" type="text/css">


  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="media/js/html5shiv.js"></script>
  <![endif]-->

    <!-- Fav and touch icons -->
  <link rel="shortcut icon" href="favicon.ico">
      
      </head>

<body>

<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-med-1-4">
        <div class="header">
            <hgroup>
                <h1 class="brand-title">Peng Qi</h1>
                <h2 class="brand-tagline">Research, Learn, Code, and Play.</h2>
            </hgroup>

            <nav class="nav">
                <ul class="nav-list">
                                    <ul class="nav">
                <li class="nav-item ">
            <a title="Home Page"
                class="pure-button home"
                href="/index.html">
                Home
            </a>
        </li>        <li class="nav-item ">
            <a title="Research"
                class="pure-button research"
                href="/research">
                Research
            </a>
        </li>        <li class="nav-item active">
            <a title="Blog"
                class="pure-button active blog"
                href="/blog">
                Blog
            </a>
        </li>        <li class="nav-item ">
            <a title="Software"
                class="pure-button software"
                href="/software">
                Software
            </a>
        </li>        <li class="nav-item ">
            <a title="Misc"
                class="pure-button misc"
                href="/misc">
                Me &amp; My ...
            </a>
        </li>    </ul>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-med-3-4">
        <div>
            <!-- A wrapper for all the blog posts -->
            <div class="posts">
                        <section>
            <article class="post">

<div class="title"><h1 itemprop="name">
    Tutorial 1&#58; The Fancy Corner
</h1></div>
<time datetime="2012-03-31">
    Sat, 31 Mar 2012
</time>

<div>

<ul class="tags clear">
<li><span class="lighter" >Tags</span></li>
<li>
    <a class="tag pure-button" href="/blog/tags/tutorial.html">
        tutorial
    </a>
</li>
<li>
    <a class="tag pure-button" href="/blog/tags/html_css.html">
        html_css
    </a>
</li>
</ul>
</div>

<div class="postcontent">
<p><link rel="stylesheet" href="/media/css/syntaxhighlighter/shCoreEclipse.css" type="text/css">
<link rel="stylesheet" href="/media/css/syntaxhighlighter/shThemeEclipse.css" type="text/css"></p>
<script type="text/javascript" src="/media/js/syntaxhighlighter/shCore.js"></script>

<script type="text/javascript" src="/media/js/syntaxhighlighter/shBrushJScript.js"></script>

<script type="text/javascript" src="/media/js/syntaxhighlighter/shBrushCss.js"></script>

<script type="text/javascript" src="/media/js/syntaxhighlighter/shBrushXml.js"></script>

<script type="text/javascript">SyntaxHighlighter.all()</script>

<p>
The &#8220;<img src="/media/images/fancycorner.png">&#8220;, or as I call it &#8212; the &#8220;fancy corner&#8221;,
is a special mark used on this site to mark out images that can be viewed in a larger
version with a pop-up window. This blog will explain how this functionality is made possible
with <a href="http://fancybox.net/" target="_blank">FancyBox</a> and 
<a href="http://jquery.com/" target="_blank">jQuery</a>.</p>

<p>
Before starting the &#8220;tutorial&#8221;, I&#8217;d like to thank <a href="http://qiankanglai.github.com" target="_blank">
Kanglai Qian</a> who is a brilliant programmer and as well my good friend, for sharing thoughts
and awesome plugins when I was developing this template. Many hyde problems will be much more 
painstaking without his help and his hyde source code. We&#8217;ve also collaborated in a number of 
projects, which can be found at&nbsp;GitHub.
</p>

<p>
Besides, I&#8217;d like to take time to explain the word &#8220;tutorial&#8221;. In fact, what I mean by tutorial is 
more of some summary, where I summarize the problems I encountered and tricks I used to solve them. 
I&#8217;d like to share with you all the tricks that I used, and all possible modifications of this template 
to <a href="/misc/homepage.html">make it yours</a>, especially for people who are not that familiar 
with <span class="caps">HTML</span>/<span class="caps">CSS</span> and hyde/<a href="https://www.djangoproject.com/" target="_blank">Django</a>/Python like&nbsp;myself.
</p>

<p>
Let&#8217;s get to business. The problem of fancy corner is actually threefold: (a) how to get FancyBox to work,
(b) how to attach the fancy corner (or any other indicators you like) on an image equipped with FancyBox, 
and (c) how to do this easily for all images without changing the <span class="caps">HTML</span> source code. For the first problem,
the best suggestion I can offer is visiting <a href="http://fancybox.net/" target="_blank">FancyBox&#8217;s 
official site</a> and find out yourself. Hence, let&#8217;s skip this problem and focus on the remaining&nbsp;two.
</p>

<p>
Formally speaking, attaching the fancy corner to the image is a problem where we seek to locate the fancy corner
image at exactly the top right corner of the given image. After a wild search on the Internet, I found out a 
solution for similar problems: locate the close button image for a pop-up window layer. The solution is 
astonishingly simple, in fact:
<pre class="brush: css">
#outer {
    position:relative;
}
#inner {
    position:absolute;
    right:10px;
    top:10px;
}
</pre>
<pre class="brush: html">
&lt;div id="outer"&gt;
    say something about your pop-up window.
    &lt;div id="inner"&gt;
        put your closing button here
    &lt;/div&gt;
&lt;/div&gt;
</pre>
As long as the parent position is relative and the child position is absolute, the &#8220;left right top bottom&#8221;
attributes of the child element is relative to the borders of the parent&nbsp;element. 
</p>

<p>
So is that it? We add an inner <code>&lt;div&gt;</code> inside the <code>&lt;a&gt;</code> tag of FancyBox after the <code>&lt;img&gt;</code>, set <code>&lt;a&gt;</code>&#8216;s
position to relative and our <code>&lt;div&gt;</code>&#8216;s position to absolute, arrange top and right to 0, and now we have
a beautiful fancy corner? Yes, and no. Yes, now you have the appearance where the image has a fancy corner on 
the top right corner&#8230; But it&#8217;s probably not the top right corner of the image exactly. You&#8217;ll have to remove the 
<code>&lt;a&gt;</code> tag from the document flow to automatically adjust its width for the fancy corner to locate properly.
Adding &#8220;float:left&#8221; will do that. However, this will cause damage to the overall format.
 Thus, an encompassing <code>&lt;div&gt;</code> would be needed to put it back into the document flow, with the style&nbsp;&#8220;overflow:hidden&#8221;.
</p>

<p>
What&#8217;s left is: we need to automatically add this &#8220;style&#8221; to all FancyBox images. Thanks to jQuery, which has
powerful <span class="caps">DOM</span> selector and <span class="caps">DOM</span> manipulation functions, this task is just a piece of cake. I&#8217;ll not be able to 
explain all about jQuery, so it&#8217;s better if you just <a href="http://jquery.com/" target="_blank">visit its site</a>.
Here&#8217;s my implementation in &#8220;site.css&#8221; and &#8220;main.js&#8221;:
<pre class="brush:css">
.fancyimg {
    position:relative;
    margin:0px 10px;
    width:auto;
    overflow:hidden;
    float:left;
}
</pre>
<pre class="brush: js">
function loadimg(){
    // FancyBox set-up
    $("a.fancyimg").fancybox({
        'width': '75%',
        'height': '75%',
        'overlayShow': false,
        'transitionIn': 'fade',
        'transitionOut': 'fade',
        'titlePosition': 'inside',
        'overlayColor': '#000',
        'overlayOpacity': 0.9});

    // Attach fancy corner
    // I attached my fancy corner as a &lt;div&gt; tag.
    $("a.fancyimg img").after('&lt;div style="display:block;width:16px;height:16px;
    position:absolute;  
    top:0px;            
    right:0px;
    background:url(\'/media/images/fancycorner.png\') no-repeat;
    _background:none;
    _filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=noscale, src=\'/media/images/fancycorner.png\');"&gt; &lt;/div&gt;');

    // Wrap the outter &lt;div&gt;
    $("a.fancyimg").wrap("&lt;div style='overflow:hidden;' /&gt;");
}
</pre>
</p>

<p>
Enjoy!
</p></div>

<div style="float:left"><span class="lighter">Older Post</span>&nbsp;
<a href="/blog/compiling-qslim-21.html">Compiling QSlim 2.1 under Windows / Visual Studio</a>
</div>

<div style="float:right"><span class="lighter">Newer Post</span>&nbsp;
<a href="/blog/hello-world.html">Hello, World!</a>
</div>
<br>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'pengqishomepage'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</article>            </section>
                        <div class="footer">
                <div id="sociallinks" class="clear" style="font-size:10px;"></div>
                <div class="pure-menu pure-menu-horizontal pure-menu-open">
                    <ul>
                        <li><a href="http://purecss.io/">Copyright &copy; Peng Qi, 2014</a></li>
                        <li><a href="http://github.com/qipeng/">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script type="text/javascript" src="/media/js/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">$(function(){loadsociallinks();loadimg();});</script>

<script src="http://yui.yahooapis.com/3.14.1/build/yui/yui.js"></script>
<script>
YUI().use('node-base', 'node-event-delegate', function (Y) {
    // This just makes sure that the href="#" attached to the <a> elements
    // don't scroll you back up the page.
    Y.one('body').delegate('click', function (e) {
        e.preventDefault();
    }, 'a[href="#"]');
});
</script>


</div>
  <!-- Javascript at the bottom for fast page loading -->

  <script type="text/javascript" src="/media/js/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="/media/js/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="/media/js/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="/media/js/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript">SyntaxHighlighter.all()</script>

  <!--[if lt IE 7 ]>
    <script src="/media/js/libs/dd_belatedpng.js"></script>
    <script>DD_belatedPNG.fix('img, .png_bg'); // Fix any <img> or .png_bg bg-images. Also, please read goo.gl/mZiyb </script>
  <![endif]--><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-26770326-1', 'github.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');

</script>
  
</body>
</html>