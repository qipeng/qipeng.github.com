<!DOCTYPE html>
<html lang="en" class="yui3-js-enabled" itemscope itemtype="http://schema.org/Thing">
<head>
   <meta charset="utf-8">

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="">
  <meta http-equiv="Content-Type" content="text/html; charset=utf8" />
  <meta name="robots" content="all" />
  <meta name="googlebot" content="all" />

  <title>Hyde Tutorial 2&#58; The hyde Template Files</title>
  <meta name="description" content="The second tutorial of the template.
">
  <meta name="keywords" content="">
  <meta name="author" content="Peng Qi">

  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://yui.yahooapis.com/pure/0.4.2/pure.css">
  <link rel="stylesheet" href="/media/css/syntax.css" type="text/css">
  <link rel="stylesheet" href="/media/js/fancybox/jquery.fancybox.css" type="text/css">
  <link rel="stylesheet" href="/media/css/main-grid.css" type="text/css">
  <!--[if lte IE 8]>

    <link rel="stylesheet" href="http://yui.yahooapis.com/pure//grids-responsive-old-ie.css">

<![endif]-->
<!--[if gt IE 8]><!-->

    <link rel="stylesheet" href="https://yui.yahooapis.com/pure//grids-responsive.css">

<!--<![endif]-->
<!--[if lte IE 8]>
      <link rel="stylesheet" href="/media/css/layouts/marketing-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
      <link rel="stylesheet" href="/media/css/layouts/marketing.css">
  <!--<![endif]-->
  <script type="text/javascript" src="/media/js/main.js"></script>

  
  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="media/js/html5shiv.js"></script>
  <![endif]-->

    <!-- Fav and touch icons -->
  <link rel="shortcut icon" href="/favicon.ico">
  
        <link rel="stylesheet" href="/media/css/site.css" type="text/css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>

<div class="header">
    <div class="home-menu pure-menu pure-menu-open pure-menu-horizontal pure-menu-fixed" id='header-menu'>
        <a class="pure-menu-heading" href="/index.html">Peng Qi</a>

                <ul class="nav">
                <li class="nav-item ">
            <a title="Research"
                class="research"
                href="/research">
                Research
            </a>
        </li>        <li class="nav-item pure-menu-selected">
            <a title="Blog"
                class="active blog"
                href="/blog">
                Blog
            </a>
        </li>        <li class="nav-item ">
            <a title="Software"
                class="software"
                href="/software">
                Software
            </a>
        </li>    </ul>
    </div>
</div>

<div id="layout" class="pure-g">

    <div class="content pure-u-1 pure-u-med-3-4">
        <div>
            <!-- A wrapper for all the blog posts -->
            <div class="posts">
                        <section>
            <article class="post">

<div class="title"><h1 itemprop="name">
    Hyde Tutorial 2&#58; The hyde Template&nbsp;Files
</h1></div>
<time datetime="2012-04-10">
    Tue, 10 Apr 2012
</time>

<div>

<ul class="tags clear">
<li><span class="lighter" >Tags</span></li>
<li>
    <a class="tag pure-button" href="/blog/tags/tutorial.html">&nbsp;tutorial
    </a>
</li>
<li>
    <a class="tag pure-button" href="/blog/tags/hyde.html">&nbsp;hyde
    </a>
</li>
<li>
    <a class="tag pure-button" href="/blog/tags/html_css.html">&nbsp;html_css
    </a>
</li>
<li>
    <a class="tag pure-button" href="/blog/tags/archived.html">&nbsp;archived
    </a>
</li>
</ul>
</div>


<div class="postcontent">
<p>This post, I think, is important for those who want to re-develop this template on their
own site, and especially who has little background of hyde/Django/Python as myself.
In this post, I&#8217;ll summarize all hacks that I did to the basic hyde template that
made this homepage what it looks like now.
Before starting this tutorial, I&#8217;d like to thank again <a href="http://qiankanglai.github.io">Kanglai Qian</a> for his help regarding <span class="caps"><span class="caps">YAML</span></span>, Python, and the hyde site structure. This
template will be nothing like it is without&nbsp;his&nbsp;help.</p>
<p>This tutorial will be roughly separated into 7 parts. Except the first part which gives a brief
but necessary introduction to the directory structure of the default hyde site, each part will introduce a
.j2 (the new hyde template file format of my working version 0.8.4) file that I hacked,
and how I adjusted the <span class="caps"><span class="caps">CSS</span></span> for appearance. I plan to cover in the next tutorial
 a shortcut on how to make the contents yours and use this template&nbsp;right&nbsp;away.</p>
<p>Let&#8217;s start from the basic hyde template by <a href="https://github.com/lakshmivyas" target="_blank">
Lakshmi Vyasarajan</a>, the original developer of hyde. To get the basic hyde template,
simply type into your Linux console (I used the powerful <a href="http://www.cygwin.com/"
target="_blank">Cygwin</a>&nbsp;under&nbsp;Windows):</p>
<pre><code class="bash">mkdir the-directory-name-you-want-to-store-your-hyde-files
cd the-directory-name-you-want-to-store-your-hyde-files
hyde create
</code></pre>

<p>The &#8220;hyde create&#8221; command creates hyde source files of a website with basic hyde.
To see what this basic template looks&nbsp;like,&nbsp;type:</p>
<pre><code class="bash">hyde gen
hyde serve
</code></pre>

<p><span class="dquo"><span class="dquo">&#8220;</span></span>hyde gen&#8221; will compile all hyde sources into the &#8220;deploy&#8221; directory, and &#8220;hyde
serve&#8221; will run a light-weight python web server that enables you to view
your site properly at your local machine. The default binding is &#8220;http://localhost:8080&#8221;.
(Hint: it is more practical to run two bash/command-line programs, and always use
one as the hyde server.) Note that this hyde server is nothing compared to
a real-world one, and should not be used under any circumstance other than&nbsp;local&nbsp;debugging.</p>
<h3 id="the-basic-hyde-source-directory-structure">The Basic hyde Source&nbsp;Directory&nbsp;Structure</h3>
<p>After running &#8220;hyde gen&#8221;, you should get a directory struture similar to this:<br>
<pre><code>+ content
|- + blog
|- + media
   |- + css
   |- + js
   |- + images
   |- - meta.yaml
|- + portfolio
|- - favicon.ico
|- - index.html
|- - ...
+ layout
|- - analytics.j2
|- - atom.j2
|- - base.j2
|- - blog.j2
|- - devmode.j2
|- - listing.j2
|- - macros.j2
|- - tagged_posts.j2
- README.markdown
- info.yaml
- site.yaml
</code></pre>
I did not expand here some directories as they will not be used here.
In the layout directory, you&#8217;ll find all .j2 files that will be&nbsp;mentioned&nbsp;below.</p>
<h3 id="basej2">base.j2</h3>
<p>This file determines the basic layout of each generated <span class="caps"><span class="caps">HTML</span></span> file on your
site. As you open other .j2 files, for example, &#8220;blog.j2&#8221;, &#8220;listing.j2&#8221;,
or &#8220;tagged_posts.j2&#8221;, you&#8217;ll see that the first line is
<pre><code>{&#37; extends &quot;base.j2&quot; &#37;}
</code></pre>
This means that the layout is inherited from &#8220;base.j2&#8221;. Thus, to change
the look of the whole site, &#8220;base.j2&#8221; should play the most&nbsp;important&nbsp;role.</p>
<p>If you open &#8220;base.j2&#8221; with text editor, you&#8217;ll see familiar <span class="caps"><span class="caps">HTML</span></span>-like
code. In fact, except for those enclosed with &#8220;<code>{% %}</code><span class="dquo"><span class="dquo">&#8220;</span></span>,
all the other are <span class="caps"><span class="caps">HTML</span></span> code. Thus, you can change the look of it as
you usually do with HTMLs. There are also some awesome tricks in the generated
basic hyde site. For example, in &#8220;content/media/css/site.css&#8221;, you&#8217;ll find many
<span class="caps"><span class="caps">CSS</span></span> tricks of round-corner boxes, shadows, and gradients (which consists of
most visual effects of&nbsp;my&nbsp;site).</p>
<p>But before you continue, I&#8217;d like to introduce a powerful structure in
hyde templates: block. Beginning with <code>{% block blockname %}</code>
and ending with <code>{% endblock %}</code>, blocks are &#8220;slots&#8221; for
content that can be replaced in future content files or other extending
layout files. To replace its content, simply use the same block name in the
file or extending layout file, and consider it copy-and-pasted into the
slot you left. Here&#8217;s a quick example on how I implemented the tag floating
on the right&nbsp;(in&nbsp;&#8220;base.j2&#8221;):</p>
<pre><code>&lt;div class="content-back"&gt;
&lt;div class="content-right"&gt;
&#123;&#37; block contentright &#37;&#125;&#123;&#37; endblock &#37;&#125;
&lt;div class="right-float"&gt;&lt;div id="googletranslate" style="font-size:10px;"&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="contentwrapper"&gt;
&lt;section class="content"&gt;
&#123;&#37; block main &#37;&#125;
&#123;&#37; endblock main &#37;&#125;
&lt;/section&gt;
&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>Here, the <code>&lt;div class="content-right" /&gt;</code> contains a block named
&#8220;contentright&#8221;, and in &#8220;blog.j2&#8221;, it&#8217;s&nbsp;used&nbsp;as:</p>
<pre><code>&#123;&#37; block contentright &#37;&#125;
&#123;&#37; if resource.meta.tags &#37;&#125;
&lt;div class="right-float"&gt;
&lt;span class="lighter"&gt;Tags:&lt;/span&gt;&lt;br/&gt;
&lt;ul class="tags clear"&gt;
&#123;&#37; for tag in resource.meta.tags &#37;&#125;
&lt;li&gt;
  &lt;a class="small" href="&#123;&#123; content_url('blog/tags/'~tag~'.html') &#125;&#125;"&gt;
    &#123;&#123; tag &#125;&#125;
  &lt;/a&gt;
&lt;/li&gt;
&#123;&#37; endfor &#37;&#125;
&lt;/ul&gt;
&lt;/div&gt;
&#123;&#37; endif &#37;&#125;
&#123;&#37; endblock &#37;&#125;
</code></pre>

<p>That&#8217;s how the floater with tags of this blog placed on the right of&nbsp;the&nbsp;text.</p>
<h3 id="listingj2">listing.j2</h3>
<p><span class="dquo"><span class="dquo">&#8220;</span></span>listing.j2&#8221; determines the look of the blog (or other items you like) list (
it&#8217;s what you see when you click the &#8220;Blog&#8221; navi button above).
I simply changed the layout from the original floating to list-style. There&#8217;s
really nothing much to say about it. For details of the layout and coloring,
it is strongly recommended that you take some time to hack
<a href="https://github.com/qipeng/homepage">my source code</a> and
the <span class="caps"><span class="caps">CSS</span></span> (site.css) on your own. Google Chrome or Firefox will also be of
great help if you want to see the actual outcome of <code>hyde gen</code>.</p>
<p>Also, for the non-chronological items such as &#8220;Software&#8221;, &#8220;Research&#8221;, and &#8220;Misc&#8221;,
I made a modified copy of&nbsp;listing.j2:&nbsp;listing-no-time.j2.</p>
<p>What? You are saying that you cannot change the appearance of blog excerpts after
reading this section? No doubt that would happen. This will be covered in macros.j2.
<a href="#macros">Take a shortcut and see&nbsp;it&nbsp;now!</a></p>
<h3 id="blogj2">blog.j2</h3>
<p>This file determines how your blog contents are rendered. The greatest change I made
to this file are (a) I changed the look of the blog navigation, and (b) I changed the
look and position of blog tags. These are essentially basic <span class="caps"><span class="caps">HTML</span></span> operations, so I won&#8217;t
cover&nbsp;them&nbsp;here.</p>
<p>However, the nagivation did involve some hyde tricks. It&#8217;s related to plugins called
&#8220;sorter&#8221; and &#8220;grouper&#8221;, and you must define groups in the &#8220;site.yaml&#8221; file. The related
code pieces in my&nbsp;&#8220;site.yaml&#8221;&nbsp;are:</p>
<pre><code>...
plugins:
    - hyde.ext.plugins.sorter.SorterPlugin
    - hyde.ext.plugins.grouper.GrouperPlugin
...
meta:
    toc: root
...
sorter:
    reversetime:
        attr:
            - meta.created
        reverse: true
        filters:
            source.kind: html
            meta.listable: true
    time:
        attr:
            - meta.created
        filters:
            source.kind: html
            meta.listable: true
grouper:
    toc:
        sorter: reversetime
        hide_name: True
        groups:
            -
                name: root
                hide_name: True
                groups:
                    -
                        name: Blog
                    -
                        name: Software
                    -
                        name: Research
                    -
                        name: Misc
</code></pre>

<p>And in each content directory, for example, &#8220;blog&#8221;, you should include a corresponding line
in the &#8220;meta.yaml&#8221; file: <code>toc: Blog</code>. After all these are done, you should be
able to use the following code to generate a navigation in&nbsp;your&nbsp;&#8220;blog.j2&#8221;:</p>
<pre><code>&lt;nav class="postnav before"&gt;
Previous:
&#123;% if resource.prev_in_toc and resource.prev_in_toc.meta.toc == resource.meta.toc %&#125;
&lt;a href="&#123;&#123; content_url(resource.prev_in_toc.url) &#125;&#125;"&gt;&#123;&#123; resource.prev_in_toc.meta.title &#125;&#125;&lt;/a&gt;
&#123;% else %&#125;
None
&#123;% endif %&#125;
&lt;br/&gt;

Next:
&#123;% if resource.next_in_toc and resource.next_in_toc.meta.toc == resource.meta.toc %&#125;
&lt;a href="&#123;&#123; content_url(resource.next_in_toc.url) &#125;&#125;"&gt;&#123;&#123; resource.next_in_toc.meta.title &#125;&#125;&lt;/a&gt;
&#123;% else %&#125;
None
&#123;% endif %&#125;
&lt;/nav&gt;
</code></pre>

<p><code>resource.meta.toc</code> will refer to the <code>toc</code> you defined in the
directory&#8217;s &#8220;meta.yaml&#8221; file, this is determined in &#8220;site.yaml&#8221;. The
<code>next_in_toc</code> is the next node, which is determined by the grouper &#8220;toc&#8221;,
which is then determined by the sorter &#8220;reversetime&#8221;. Since all groups are concatenated
here, it will give you the next blog (or whatever) in the current group by time. If that
does not exist, it will give you a node in the neighboring group. That is why the
<code>{% if %}</code> is&nbsp;necessary.</p>
<div class="title"><a name="macros"></a><h3>macros.j2</h3></div>

<p>Here comes the interesting part. &#8220;macros.j2&#8221; defines how your blog excerpts are rendered,
and how your tagged posts are rendered in the tag page. In fact, there&#8217;s nothing special.
Here&#8217;s my version of the macro <code>render_excerpt</code>:</p>
<pre><code>&#123;% macro render_excerpt(res, class=None) %&#125;
&#123;% refer to res.url as post %&#125;
&lt;article &#123;&#123;'class='~class if class &#125;&#125;&gt;
&lt;div class="title"&gt;&lt;h3&gt;&lt;a href="&#123;&#123; content_url(res.url) &#125;&#125;"&gt;&#123;&#123; res.meta.title &#125;&#125;&lt;/a&gt;&lt;/h3&gt;&lt;/div&gt;
&#123;&#123; post.image|markdown|typogrify &#125;&#125;
&#123;&#123; post.excerpt|markdown|typogrify &#125;&#125;...
&lt;time datetime="&#123;&#123; res.meta.created.strftime('%Y-%m-%d') &#125;&#125;"&gt;
    Posted: &#123;&#123; res.meta.created.strftime('%a, %d %b %Y') &#125;&#125;
&lt;/time&gt;
&lt;/article&gt;
&#123;% endmacro %&#125;
</code></pre>

<p>I simply changed the appearance of the excerpt to make it more harmonious
with my template. The <code>{{ post.image|markdown|typogrify }}</code>
and <code>{{ post.excerpt|markdown|typogrify }}</code> part
will refer to <code>{ mark image }</code> and <code>{ mark excerpt }</code>,
respectively, in the actual content file. Here you can use markdown for simplicity.
 <code>res.meta.title</code> and <code>res.meta.created</code>
are also defined in the content file. These parts of this very blog post&nbsp;are&nbsp;like:</p>
<pre><code>---
title: Tutorial 2&amp;#58; The hyde Template Files
description: &gt;
    The second tutorial of the template.
created: !!timestamp '2012-4-10 17:00:00'
tags:
    - tutorial
    - hyde
    - html_css
---
&#123;% block css %&#125;
&lt;link ...
&#123;% endblock %&#125;

&#123;% block scripts %&#125;
&lt;script ...
&#123;% endblock %&#125;

&#123;% mark image -%&#125;
&#123;%- endmark %&#125;
&lt;p&gt;
&#123;% mark excerpt -%&#125;

This post, I think, is important for those who want to re-develop this template on their
own site, and especially who has little background of hyde/Django/Python as myself.
In this post, I'll summarize all hacks that I did to the basic hyde template that
made this homepage what it looks like now.

&#123;%- endmark %&#125;
</code></pre>

<p><code>&amp;amp;#58;</code> is the <span class="caps"><span class="caps">HTML</span></span> code for &#8220;&#58;&#8221;. This is used as &#8220;:&#8221; is forbidden in
titles. So it&#8217;s recommended that you use <span class="caps"><span class="caps">ASCII</span></span> code for all special marks.
A complete list of special <span class="caps"><span class="caps">HTML</span></span> <span class="caps"><span class="caps">ASCII</span></span> symbols can be found
<a href="http://www.w3schools.com/tags/ref_ascii.asp">here</a>.</p>
<p>I also wrote a macro named <code>render_news</code> to render the News section
on my homepage, and it might be useful to show you how a macro&nbsp;is&nbsp;used.</p>
<p>In layout/macros.j2:
<pre><code>&#123;% macro render_news(res, class=None) %&#125;
&#123;% refer to res as post %&#125;
&lt;ul &#123;&#123;'class='~class if class&#125;&#125;&gt;
&#123;&#123; post.latest &#125;&#125;
&lt;/ul&gt;
&#123;% endmacro %&#125;
</code></pre>
In content/index.html:
<pre><code>&#123;% from "macros.j2" import render_news with context  %&#125;
&lt;div class="title"&gt;&lt;h3&gt;&lt;a href="news.html"&gt;News&lt;/a&gt;&lt;/h3&gt;&lt;/div&gt;
&#123;&#123; render_news("news.html","news") &#125;&#125;
</code></pre>
In content/news.html:
<pre><code>...
&#123;% block main %&#125;
&lt;section&gt;
&lt;div class="title"&gt;&lt;h1&gt;News&lt;/h1&gt;&lt;/div&gt;
&lt;ul class="news"&gt;
&#123;% mark latest -%&#125;
&lt;li&gt;Apr. 1, 2012 ...&lt;/li&gt;
&lt;li&gt;Mar. 29, 2012 ...&lt;/li&gt;
&lt;li&gt;Mar. 8, 2012 ...&lt;/li&gt;
&#123;%- endmark %&#125;
&lt;li&gt;Nov. 30, 2011 ...&lt;/li&gt;
&lt;/ul&gt;
&lt;/section&gt;
&#123;% endblock %&#125;
</code></pre></p>
<h3 id="tagged_postsj2">tagged_posts.j2</h3>
<p>This file determines how the assemble of tagged blogs are rendered. See the
<a href="/blog/tags/tutorial.html">&#8220;tutorial&#8221;</a> page
for a quick example. There&#8217;s really nothing much to say&nbsp;about&nbsp;this.</p>
<h3 id="analyticsj2">analytics.j2</h3>
<p>This file is the <a href="http://www.google.com/analytics">Google Analytics</a>
snippet attached to your site. It&#8217;s attached to the &#8220;base.j2&#8221; file. It&#8217;s only
enabled in the generated site if the mode of your site is &#8220;production&#8221;. To
enable Google Analytics, configure&nbsp;your&nbsp;&#8220;site.yaml&#8221;:</p>
<pre><code>mode: production
...
meta:
    analytics:
        id: UA-XXX
...
</code></pre>

<p>Remember to replace &#8220;<span class="caps"><span class="caps">UA</span></span>-<span class="caps"><span class="caps">XXX</span></span>&#8221; with your property <span class="caps"><span class="caps">ID</span></span>.</p></div>

<div style="float:left"><span class="lighter">Newer Post</span>&nbsp;
<a href="/blog/matlab-parallel.html">Notes on Matlab Parallel Programming</a>
</div>

<div style="float:right"><span class="lighter">Older Post</span>&nbsp;
<a href="/blog/compiling-qslim-21.html">Compiling QSlim 2.1 under Windows / Visual Studio</a>
</div>
<br>
<br>
<i><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /> Unless otherwise mentioned, you are free to share my posts under the <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License (<span class="caps">CC</span> <span class="caps">BY</span>-<span class="caps">SA</span> 4.0)</a>.</i>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'pengqishomepage'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</article>            </section>
                        <div class="footer">
                <div id="sociallinks" class="clear" style="font-size:10px;"></div>
                <div class="pure-menu pure-menu-horizontal pure-menu-open">
                    <ul>
                        <li><a href="https://purecss.io/">Copyright &copy; Peng Qi, 2020</a></li>
                        <li><a href="https://github.com/qipeng/">GitHub</a></li>
                        <li><a href="https://twitter.com/qi2peng2">Twitter</a></li>
                        <li><a href="https://www.linkedin.com/pub/peng-qi/90/800/395/">LinkedIn</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script>
window.jQuery || document.write("<script src=\"/media/js/jquery.min.js\"><\/script>")
</script>
<script type="text/javascript" src="/media/js/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">$(function(){loadsociallinks();loadimg();});</script>

<script src="http://yui.yahooapis.com/3.14.1/build/yui/yui.js"></script>
<script>
YUI().use('node-base', 'node-event-delegate', function (Y) {
    // This just makes sure that the href="#" attached to the <a> elements
    // don't scroll you back up the page.
    Y.one('body').delegate('click', function (e) {
        e.preventDefault();
    }, 'a[href="#"]');
});

$(document).ready(function(){
$('#bibtex-modal').on('show.bs.modal', function (event) {
  var button = $(event.relatedTarget) // Button that triggered the modal
  var url = button.data('url') // Extract info from data-* attributes
  var modal = $(this)
  $.ajax({
    'url': url,
    'success': function(data) {
      modal.find('#bibtex-content').text(data)
    }
  })
});
})

</script>


</div>

  <!-- Javascript at the bottom for fast page loading -->

  
  <!--[if lt IE 7 ]>
    <script src="/media/js/libs/dd_belatedpng.js"></script>
    <script>DD_belatedPNG.fix('img, .png_bg'); // Fix any <img> or .png_bg bg-images. Also, please read goo.gl/mZiyb </script>
  <![endif]--><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-26770326-1', 'qipeng.me');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>
  
    <script>
        var prevScrollpos = window.pageYOffset;
window.onscroll = function() {
  var currentScrollPos = window.pageYOffset;
  if (prevScrollpos < currentScrollPos && prevScrollpos > 250) {
    document.getElementById("header-menu").style.top = "-50px";
  } else {
    document.getElementById("header-menu").style.top = "0px";
  }
  prevScrollpos = currentScrollPos;
}
window.onbeforeprint = function() {
  document.getElementById("header-menu").style.top = "0px";
}
    </script>

<div class="modal" id="bibtex-modal" tabindex="-1" role="dialog" aria-labelledby="bibtex-modal" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="bibtex-modal-title">BibTeX</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre id='bibtex-content'></pre>
      </div>
    </div>
  </div>
</div>

</body>
</html>