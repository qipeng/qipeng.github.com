���������<html><head><meta charset="UTF-8"><title>Tsinghua Classroom</title><link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'><link rel="stylesheet" href="/media/css/site.css" type="text/css"><link rel="stylesheet" href="/media/css/syntax.css" type="text/css"><link rel="stylesheet" href="/media/css/cupertino/jquery-ui-1.8.19.custom.css" type="text/css"><script type="text/javascript" src="/media/js/libs/modernizr-1.7.min.js"></script></head><body class="content" style="background:#fff;padding:20px;"><div class="title"><h1>Tsinghua Classroom (������������������������������������������������������������������������������������������)</h1></div><p>This page uses a <a href="http://www.python.org" target="_blank">Python</a> backend deployed on <a href="http://appengine.google.com/" target="_blank"> Google App Engine</a> to fetch and analyze the classroom availability table page on <a href="http://myhome.tsinghua.edu.cn/" target="_blank">Myhome.tsinghua</a>. James Padolsey's <a href="https://github.com/padolsey/jQuery-Plugins/blob/master/cross-domain-ajax/jquery.xdomainajax.js" target="_blank">Cross-Domain jQuery Ajax</a> also helped a lot. <br> ������������������������������������������������������������������������������������������<a href="http://appengine.google.com/" target="_blank"> Google App Engine</a>������������������<a href="http://www.python.org" target="_blank">Python</a> ������������������������������������������������������<a href="http://myhome.tsinghua.edu.cn/" target="_blank">���������������������������������������������</a> ���������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������James Padolsey���������������������������<a href="https://github.com/padolsey/jQuery-Plugins/blob/master/cross-domain-ajax/jquery.xdomainajax.js" target="_blank">������������������jQuery Ajax</a>������������������������������������������������������������������������������������������������������������������������������������������������������������������ <span style="color:green;">���������������������������������������������GAE������������������������������������������������������������������������������������������������������������������������������������������������</span></p><p><span class="lighter">NOTE: ���������������������������</span><br> The latest of a week's result may not be available until that Monday, so it is recommended that you query for the current week (Mon. to Sun.) only. <br> ��������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������� </p><style> #querytable{ align:center; } #querytable .input{ min-width:100px; _width:100px; border: 1px solid #ccc; } .disabled{ } </style><table id="querytable"><tr><td> Date ������������������ </td><td><input id="datepicker" type="text" class="input" readonly></td></tr><tr><td> Building ��������������������������� </td><td><select name="building_id" id="bldg" class="input"><option value="1" selected="selected">������������������</option><option value="2">������������������</option><option value="3">������������������������������������������������������</option><option value="4">������������������������������������</option><option value="5">������������������</option><option value="6">������������������</option><option value="7">������������������A���������</option><option value="8">������������������</option><option value="9">������������������</option><option value="10">������������������</option><option value="11">���������������������������������������������</option><option value="12">���������������������������</option><option value="13">���������������������������</option><option value="14">���������������������������������������������</option><option value="15">���������������������������</option><option value="16">���������������������������</option><option value="17">������������������B���������C���������</option><option value="18">������������������</option></select></td></tr><tr><td> Time ������������������������������������ </td><td><div id="time"><INPUT NAME="options" TYPE="CHECKBOX" VALUE="1"> Lesson 1 ������������������������������������(08:00 -- 09:35)<BR><INPUT NAME="options" TYPE="CHECKBOX" VALUE="2"> Lesson 2 ������������������������������������(09:50 -- 12:15)<BR><INPUT NAME="options" TYPE="CHECKBOX" VALUE="3"> Lesson 3 ������������������������������������(13:30 -- 15:05)<BR><INPUT NAME="options" TYPE="CHECKBOX" VALUE="4"> Lesson 4 ������������������������������������(15:20 -- 16:55)<BR><INPUT NAME="options" TYPE="CHECKBOX" VALUE="5"> Lesson 5 ������������������������������������(17:05 -- 18:40)<BR><INPUT NAME="options" TYPE="CHECKBOX" VALUE="6"> Lesson 6 ������������������������������������(19:20 -- 21:45)<BR></div></td></tr><tr><td></td><td><input id="submit" type="submit" value="Start Query ������������������������������������"></td></tr><tr><td>Available Classrooms ������������������������������������</td><td id="result"></td></tr></table><div class="title"><h2>See Also...</h2></div><a href="/software/tsinghua-classroom.html"> Why I wrote this page</a><script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script><script>window.jQuery || document.write('<script src="/media/js/libs/jquery-1.7.2.min.js">\x3C/script>')</script><script src="/media/js/libs/jquery-ui-1.8.19.custom.min.js"></script><script src="/media/js/libs/xsite-ajax.js"></script><script type="text/javascript"> $(function(){ $("#datepicker").datepicker(); $('#submit').button(); $('#submit').click(function(){ if ($('#datepicker').val() == '') { alert("Please choose date! ���������������������������������������������������������������������������������������������������"); return false; } var date = $('#datepicker').val().split("/"); var time = $('#time').children('input:checked'); if (time.length <= 0) { alert("Please specify time! ������������������������������������������������������������������������������������������������������������������������������������������������"); return false; } var target=""; for(var i = 0; i < time.length; i++) target += time[i].value + ","; $('#submit').attr('disabled'); $('#result').html('<img src="/media/images/loader.gif"> Please wait as this may take tens of seconds... ���������������������������������������������������������������������������������������������������������������������������������������...'); $.ajax({ type: "GET", url: "http://qipenghomepg.appspot.com/thuclsrm?id=" + $('#bldg').val() + "&year=" + date[2] + "&month=" + date[0] + "&day=" + date[1] + "&target=" + target, crossDomain: true, dataType: 'html', success: function(data){res=data.responseText;if (res != null)$('#result').html(res);else$('#result').html("No classroom matches your criteria. ������������������������������������������������������������������������������������������������������������");$('#submit').removeAttr('disabled');} }); });}) </script></body></html> 
